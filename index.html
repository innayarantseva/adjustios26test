<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="connect-src 'self' data: blob: https://app.adjust.com;">
    <title>Load Web SDK from CDN</title>

<script type="application/javascript">
!function(t,r,e,a,n,o,i,l,c,s,d,h,u){var f=i+"_q",m=i+"_c";t[i]=t[i]||{},t[f]=t[f]||[],t[m]=t[m]||[];for(let r=0;r<l.length;r++)d(t[i],t[f],l[r]);for(let r=0;r<c.length;r++){var g,b=c[r][0],p=c[r][1];t[i][b]=function(...r){return g=this,t[m].push((function(){g[s]=new t[i][b](...r)})),g};for(let r=0;r<p.length;r++){const e=p[r];t[i][b].prototype[e]=function(...r){t[m].push((function(){g[s][e](...r)}))}}}h=r.createElement(e),u=r.getElementsByTagName(e)[0],h.async=!0,h.src="https://cdn.adjust.com/adjust-latest.min.js",h.onload=function(){for(var r=0;r<t[m].length;r++)t[m][r]();t[m]=[];for(r=0;r<t[f].length;r++)t[f][r][1][0][s]?t[i][t[f][r][0]](t[f][r][1][0][s]):t[i][t[f][r][0]].apply(t[i],t[f][r][1]);t[f]=[]},u.parentNode.insertBefore(h,u)}(window,document,"script",0,0,0,"Adjust",["initSdk","getAttribution","getWebUUID","waitForAttribution","waitForWebUUID","setReferrer","trackEvent","addGlobalCallbackParameters","addGlobalPartnerParameters","removeGlobalCallbackParameter","removeGlobalPartnerParameter","clearGlobalCallbackParameters","clearGlobalPartnerParameters","switchToOfflineMode","switchBackToOnlineMode","stop","restart","gdprForgetMe","disableThirdPartySharing","trackThirdPartySharing","initSmartBanner","showSmartBanner","hideSmartBanner"],[["ThirdPartySharing",["addGranularOption","addPartnerSharingSetting"]]],"__realObj",(function(t,r,e){t[e]=function(){r.push([e,arguments])}}));
</script>

</head>

<body>
    <button id="btn_init">Init Web SDK</button><br>
    <button id="btn_attr">Get attribution</button><br>
    <button id="btn_event">Track "Test Event For iOS 26" event</button><br>
    <button id="btn_clean">Clear browser storage</button><br>
    <script>
      let initSdk = document.getElementById('btn_init')
      initSdk.addEventListener('click', function () {
        Adjust.initSdk({
          "appToken": "qn3ktsl8qa68",
          "environment": "production",
          "logLevel": "verbose",
          "logOutput": "#log"
        })
      })
      
      let getAttr = document.getElementById('btn_attr')
      getAttr.addEventListener('click', function () {
        Adjust.waitForAttribution()
          .then((attr) => {
            console.log(JSON.stringify(attr, undefined, 2))
            document.getElementById('log').innerText += JSON.stringify(attr, undefined, 2)
          });
      })
      
      let trackEvent = document.getElementById('btn_event');
      trackEvent.addEventListener('click', function () {
        Adjust.trackEvent({
          eventToken: "k29pux"
        })
      })
        
      let cleanStorage = document.getElementById('btn_clean')
      cleanStorage.addEventListener('click', function () {
        Adjust.__testonly__.clearDatabase()
        window.localStorage.clear();
      })
    </script>
    
    <pre id="log" style="width: 100vw; height: 100vh;"></pre>
</body>

</html>
